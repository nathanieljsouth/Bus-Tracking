<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Tracking Project Evidence</title>
    <link href="https://fonts.googleapis.com/css?family=Cardo|Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    
<div class="navigation">
    <ul>
        <li>
            <a href="index.html"><img class="navimage" width="90px" src="images/logo.png"></a>
        </li>
        <li>
            <a class="navlink" href="index.html">Back to Menu</a>
        </li>
    </ul>
</div>
<h1>Finding issues and fixing them </h1>

<p>A few issues that I found and fixed are listed here.</p>
    
<p>I found that the javascript fetch() method does not support loading local files using the 'file://' protocol.  This meant that I couldn't test loading the JSON file without deploying the website to github.  This took me a few hours to figure out why it didn't work.</p>

<p>Setting up a Google Maps API key, which involves creating a billing account with Google, was pretty complex to understand.  I found it hard to understand what needed to be configured and it was quite a lot of trial and error involved.  You have to set up a new Google Project and enable the maps API, create a new set of API credentials in the project, and make sure your account is connected to a payment method.</p>

<p>As soon as I uploaded my source code to github, Google mailed me because I was using an unrestricted API key that would allow anyone to use the key for mapping.  The message looked like this (the API key has been covered up)</p>
<img src="images/map-google-warning.jpg" width="500px">

<p>I fixed this by going into the Google API manager and setting a website restriction as below:</p>
<img src="images/map-api-key-restriction.jpg" width="500px">

<p>I first tried using a white background on my bus marker but it looked really ugly and blanked out the background</p>
<img src="images/busmarkerwhite.jpg" width="500px">

<p>I fixed this by using paint.net to replace the white background with a transparent background</p>
<img src="images/busmarkertransparent.jpg" width="500px">

<p>I was really surprised to find that Google Maps requires absolute paths to KML files rather than relative ones.  This caused me a lot of google searching and trial-and-error debugging to understand the reason my routes weren't loading.</p>
    
<p>After loading my KML route onto the Google Map I wanted to be able to change the appearance of the busstop marker the user has selected.  However, Google Maps doesn't let me alter a marker like this so I won't include that piece of functionality in this version.</p>
    

</body>
</html>